<!DOCTYPE html>
<html>
    <head>
        <title>Assembl Desktop Demo</title>
        <link rel="stylesheet" href="styles.css" />
        <script src="renderer.js"></script>
    </head>
    <body onload="domReady();">
        <div class="screen" id="startup">
            <table style="width: 100%; height: 100%;">
                <tr>
                    <td style="text-align: center;">
                        <img class="assembl-logo-icon" src="build/icon.png" /><div class="assembl-logo-text">Assembl</div>
                        <div style="margin-top: 0px; height: 0px;" class="underthelogo" id="extra-loading">
                            <img class="loading-svg" src="resources/svg/loading.svg" />
                            <div>Establishing connection...</div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div class="screen" id="purpose" style="display: none;">
            <table style="width: 100%; height: 100%;">
                <tr>
                    <td style="text-align: center;">
                        <img class="assembl-logo-icon" src="build/icon.png" /><div class="assembl-logo-text">Assembl</div>
                        <div class="underthelogo" id="purpose-selector">
                            <div style="margin-bottom: 12px;">What would you like to do today?</div>
                            <button class="purpose-button" onclick="startSender();">Send data</button><button class="purpose-button" onclick="startReceiver();">Receive data</button>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div class="screen" id="sender" style="display: none;">
            <img class="screen-back" src="resources/svg/arrow_back.svg" onclick="startPurposeSelector();" title="Go back" alt="Go back" />
            <table style="width: 100%; height: 100%;">
                <tr>
                    <td style="text-align: center;">
                        <img class="assembl-logo-icon" src="build/icon.png" /><div class="assembl-logo-text">Assembl</div>
                        <div class="underthelogo">
                            <div>Give the following ID to the receiving party:</div>
                            <input type="text" id="yourpeerid" readonly />
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div class="screen" id="dragdrop" style="display: none;">
            <div id="filedropper">
                <input type="file" name="fileToUpload" id="fileToUpload" onchange="addUploaders(this.files)" required>
                <div id="filedropperborder"></div>
                <div id="itemdropbox">
                    <div id="filedropperdragbg"></div>
                    <div id="itemdrop">Drag &amp; drop<br /><br /><small style="background: #97CED9; color: #1A1A1A; padding: 6px 16px; cursor: pointer; border-radius: 3px;">or click here to select a file</small></div>
                </div>
            </div>
            <script>
            var drop = document.getElementById("fileToUpload");
            drop.addEventListener("dragenter", change, false);
            drop.addEventListener("dragleave", change_back, false);
            
            var bg = document.getElementById("itemdropbox");
            var txt = document.getElementById("itemdrop");
            var originaltxt = document.getElementById("itemdrop").innerHTML;
        
            function change() {
                bg.style.background = '#193884';
                document.getElementById("filedropperdragbg").style.opacity = 1;
                document.getElementById("filedropperborder").className = "active";
                txt.innerHTML = "Drop the file here!";
            };
        
            function change_back() {
                bg.style.background = null;
                document.getElementById("filedropperdragbg").style.opacity = 0;
                document.getElementById("filedropperborder").className = null;
                txt.innerHTML = originaltxt;
            };
            </script>
        </div>
        <div class="screen" id="receiver" style="display: none;">
            <img class="screen-back" src="resources/svg/arrow_back.svg" onclick="startPurposeSelector();" title="Go back" alt="Go back" />
            <table style="width: 100%; height: 100%;">
                <tr>
                    <td style="text-align: center;">
                        <img class="assembl-logo-icon" src="build/icon.png" /><div class="assembl-logo-text">Assembl</div>
                        <div class="underthelogo">
                            <div>Enter a sender ID:</div>
                            <input type="text" id="senderpeerid" /><button class="purpose-button" id="connect-btn">connect</button>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div id="copyright">Assembl Desktop Demo &copy; Assembl LLC 2019</div>
    </body>
</html>